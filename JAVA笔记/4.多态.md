### 4. 多态

[TOC]

面向对象三大特征：封装性，多态性；继承性。

extends继承或者implements实现，是多态性的前提。

代码当中体现多态性，其实就是一句话：父类应用子类对象。

格式：

```java
父类名称 对象名 = new 子类名称();
或者：
接口名称 对象名 = new 实现类名称();
代码示例：
    E:\java程序\IdeaProject\src\sun06
```

#### 多态中成员变量的使用特点

访问成员变量的两种方式：

1. 直接通过对象名称访问成员变量，***看等号左边是谁，优先用谁***，没有则向上找。（成员变量不能覆盖重写）
2. 直接通过成员方法访问。看该方法属于谁，优先用谁，没有则向上找（子类没有覆盖重写就是父类的，子类如果覆盖重写，就是子类）

#### 多态中成员方法的使用特点

1. 看**new**的是谁就是谁，没有则向上找。
2. 对比：
   1. 成员变量：编译看左边，运行看右边。
   2. 成员方法：编译看左边，运行看右边。

#### 使用多态的好处(代码：E:\java程序\IdeaProject\src\sun07）

<img src="E:\Users\DELL\Pictures\Screenshots\批注 2020-07-23 182649.png" style="zoom:200%;" />

#### 对象的向上转型

1. 其实就是多态写法：父类名称 对象名 = new 子类名称();
2. 含义：右侧创建一个子类对象，把它当作父类来看待使用。
3. 注意事项:**向上转型一定是安全的**。从小范围转向了大范围。
4. **就是父类引用指向子类对象**
5. <img src="E:\Users\DELL\Pictures\Screenshots\批注 2020-07-23 184933.png" style="zoom:200%;" />

#### 对象的向下转型

1. 其实是***还原***的动作

2. 格式：子类名称 对象名 = (子类名称)  父类对象；

3. 含义：**将父类对象还原成为本来的子类对象。**

4. <img src="E:\Users\DELL\Pictures\Screenshots\批注 2020-07-23 190338.png" style="zoom:200%;" />

   ​		java.lang.ClassCastException

   #### 用instanceof关键字判断

   如何才能知道一个父类引用的对象，本来是什么子类？

   格式：

   **对象 instanceof 类名称**

   这将会得到一个boolea值的结果，